<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="./d3.min.js"></script>
	</head>
	<body>
		<svg width=300 height=300></svg>
		<script >
		var svg = d3.select("svg");

		var data = [1,20,100,200];

		var sel;

		svg.selectAll ("rect")
		    .data (data)
		    .enter()
		    .append ("rect")
		    .attr("x", function(d,i) { return d })
		    .attr("y", 0)
		    .attr("width", 40)
		    .attr("height", 40)
		    .on("mouseover", function (d,i) {
		    	var r = d3.select(this);
		    	r.attr("fill", "yellow");
		    	sel = r;

		    })
		    .on("mouseout", function (d,i) {
		    	d3.select(this).attr("fill", "black")
		    	sel = undefined;
		    });

		window.addEventListener("keypress", function () {
			console.log (sel);
			if (sel) sel.attr("fill", "red"); 
		});
		</script>
</body>
</html>